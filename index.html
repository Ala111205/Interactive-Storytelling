<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://kit.fontawesome.com/9885839914.js" crossorigin="anonymous"></script>
  <title>Aridia â€” Interactive Story</title>
  <link rel="stylesheet" type="text/css" href="styles.css">
</head>
<body>

  <div class="container">
    <div id="game" style="display: none;">
      <header class="topbar">
        <div class="logo">Echoes of Aridia</div>
        <div class="controls">
          <button id="btn-back" title="Back">âŸµ Back</button>
          <button id="btn-save" title="Save">ðŸ’¾ Save</button>
          <button id="btn-load" title="Load">ðŸ“‚ Load</button>
          <button id="btn-inv" title="Inventory">ðŸŽ’ <span id="inv-count">0</span></button>
          <button id="btn-music" title="Toggle Music">â™ª</button>
        </div>
      </header>

      <main class="novel">
        <aside class="left-panel">
          <div id="portrait" class="portrait">
            <!-- scene image -->
            <img id="scene-image" src="./game/assets/img/ancient/awake.png" alt="scene" />
          </div>

          <div id="stats-container" class="stats">
            <div class="stat-row" data-stat="health">
              <span class="stat-label">Health</span>
              <div class="bar">
                <div id="bar-health" class="bar-fill"></div>
              </div>
              <span id="num-health" class="stat-value">0</span>
            </div>

            <div class="stat-row" data-stat="morale">
              <span class="stat-label">Morale</span>
              <div class="bar">
                <div id="bar-morale" class="bar-fill"></div>
              </div>
              <span id="num-morale" class="stat-value">0</span>
            </div>

            <div class="stat-row" data-stat="energy">
              <span class="stat-label">Energy</span>
              <div class="bar">
                <div id="bar-energy" class="bar-fill"></div>
              </div>
              <span id="num-energy" class="stat-value">0</span>
            </div>

            <div class="stat-row" data-stat="stamina">
              <span class="stat-label">Stamina</span>
              <div class="bar">
                <div id="bar-stamina" class="bar-fill"></div>
              </div>
              <span id="num-stamina" class="stat-value">0</span>
            </div>

            <div class="stat-row" data-stat="xp">
              <span class="stat-label">XP</span>
              <div class="bar">
                <div id="bar-xp" class="bar-fill"></div>
              </div>
              <span id="num-xp" class="stat-value">0</span>
            </div>
          </div>
        </aside>

        <section class="center-panel">
          <div id="scene" class="scene fade-in">
            <div id="scene-text" class="text"></div>
            <div id="choices" class="choices"></div>
          </div>

          <div class="bottom-controls">
            <button id="btn-restart">Restart</button>
            <div class="hint">Tip: Use Save to try different paths.</div>
          </div>
        </section>

        <aside class="right-panel">
          <div class="log">
            <h4>Action Log</h4>
            <div id="log-list"></div>
          </div>
        </aside>
      </main>

      <!-- Inventory modal -->
      <div id="inventory-modal" class="modal hidden">
        <div class="modal-content">
          <h3>Inventory</h3>
          <div id="inventory-list" class="inventory-list"></div>
          <button id="close-inv">Close</button>
        </div>
      </div>

      <!-- Save slot modal -->
      <div id="save-modal" class="modal hidden">
        <div class="modal-content">
          <div>
            <h3>Save Slot</h3>
            <i class="fa-solid fa-arrow-rotate-right"></i>
          </div>
          <div id="save-slots"></div>
          <button id="close-save">Close</button>
        </div>
      </div>

      <!-- Load slot modal -->
      <div id="load-modal" class="modal hidden">
        <div class="modal-content">
          <h2>Load Game</h2>
          <!-- Slot List -->
          <div id="load-slots" class="slot-list"></div>
          <!-- Details panel (shows story + last action) -->
          <div id="slot-details" class="slot-details hidden">
            <h3 id="detail-story">Story: â€”</h3>
            <p id="detail-action">Last Action: â€”</p>
            <button id="load-selected">Load this slot</button>
          </div>
          <button id="close-load">Close</button>
        </div>
      </div>
    </div>

    <!-- Audio elements -->
      <audio id="bgm" loop src="./game/assets/sound/ancient-ambient.mp3" preload="auto"></audio>
      <audio id="sfx-select" src="./game/assets/sound/neon-opener.mp3"></audio>
      <audio id="sfx-pick" src="./game/assets/sound/button.mp3"></audio>

    <div id="tap-start">
      <div class="tap-text">
        Tap to Start
      </div>
    </div>
  </div>

  <!-- JS ENTRY -->
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
  <script type="module" src="./tap-start.js"></script>
  <script type="module" src="./main.js"></script>

</body>
</html>